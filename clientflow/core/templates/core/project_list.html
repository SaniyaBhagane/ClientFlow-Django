{% extends 'core/base.html' %}

{% block content %}

<!-- Page Header -->
<div class="d-flex justify-content-between align-items-center mb-4">
  <h3 class="fw-bold">
    Projects
    <span class="text-secondary fs-6">for {{ client.name }}</span>
  </h3>

  <a href="{% url 'add_project' client.id %}" class="btn btn-primary">
    + Add Project
  </a>
</div>

<!-- Projects Grid -->
<div class="row g-4">
  {% for project in projects %}
  <div class="col-md-6 col-lg-4">
    <div class="card p-4 shadow h-100">

      <!-- Title + Status -->
      <div class="d-flex justify-content-between align-items-start mb-2">
        <h5 class="fw-semibold mb-0">{{ project.title }}</h5>

        {% if project.status == 'Completed' %}
          <span class="badge bg-success">Completed</span>
        {% elif project.status == 'In Progress' %}
          <span class="badge bg-warning text-dark">In Progress</span>
        {% else %}
          <span class="badge bg-secondary">Pending</span>
        {% endif %}
      </div>

      <!-- Deadline -->
      <p class="text-secondary small mb-3">
        üìÖ Deadline: {{ project.deadline }}
      </p>

      <!-- Actions -->
      <a href="{% url 'task_list' project.id %}"
         class="btn btn-outline-info btn-sm w-100">
        View Tasks ‚Üí
      </a>

    </div>
  </div>
  {% empty %}
  <p class="text-secondary">No projects found.</p>
  {% endfor %}
</div>

<!-- Back -->
<a href="{% url 'client_list' %}" class="d-inline-block mt-4 text-decoration-none">
  ‚Üê Back to Clients
</a>

{% endblock %}
