{% extends 'core/base.html' %}

{% block content %}

<div class="card shadow p-4 mx-auto" style="max-width: 500px;">
  <h4 class="mb-4 text-center">Add Task for {{ project.title }}</h4>

  <form method="post">
    {% csrf_token %}

    <!-- Task Title -->
    <div class="mb-3">
      <input class="form-control"
             type="text"
             name="title"
             placeholder="Task Title"
             required>
    </div>

    <!-- Priority -->
    <div class="mb-3">
      <select class="form-select" name="priority">
        <option value="Low">Low Priority</option>
        <option value="Medium">Medium Priority</option>
        <option value="High">High Priority</option>
      </select>
    </div>

    <!-- ðŸ”— Dependency (NEW FEATURE) -->
    <div class="mb-3">
      <label class="form-label text-secondary">
        Depends on (optional)
      </label>
      <select class="form-select" name="depends_on">
        <option value="">None</option>
        {% for task in existing_tasks %}
          <option value="{{ task.id }}">{{ task.title }}</option>
        {% endfor %}
      </select>
    </div>

    <!-- Submit -->
    <button class="btn btn-primary w-100">
      Add Task
    </button>
  </form>
</div>

{% endblock %}
